{
  "docker": {
    "services": [{
        "service": "synology-gitlab-ce",
        "image": "gitlab/gitlab-ce-classic",
        "build": "build",
        "container_name": "synology-gitlab-ce",
        "tag": "13.4.4-ce.0",
        "environment": [{
          "env_var": "GITLAB_PRE_RECONFIGURE_SCRIPT",
          "env_value": "sh /assets/gitlab_pre_reconfigure_script.sh"
        }, {
          "env_var": "GITLAB_POST_RECONFIGURE_SCRIPT",
          "env_value": "sh /assets/gitlab_post_reconfigure_script.sh"
        }, {
            "env_var": "HOSTNAME",
            "env_value": "{{pkgwizard_hostname}}"
        }, {
            "env_var": "GITLAB_SHELL_SSH_PORT",
            "env_value": "{{pkgwizard_ssh_port}}"
        }, {
            "env_var": "GITLAB_HTTP_PORT",
            "env_value": "{{pkgwizard_http_port}}"
        }, {
            "env_var": "GITLAB_HTTPS_PORT",
            "env_value": "{{pkgwizard_https_port}}"
        }, {
            "env_var": "EXTERNAL_URL",
            "env_value": "http://{{pkgwizard_hostname}}:{{pkgwizard_http_port}}"
        }, {
            "env_var": "GITLAB_ROOT_PASSWORD",
            "env_value": "{{pkgwizard_password}}"
        }, {
            "env_var": "PATH",
            "env_value": "/opt/gitlab/embedded/bin:/opt/gitlab/bin:/assets:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
        }, {
            "env_var": "LANG",
            "env_value": "C.UTF-8"
        }, {
            "env_var": "TERM",
            "env_value": "xterm"
        }],
        "shares": [{
            "host_dir": "data",
            "mount_point": "/var/opt/gitlab"
        }, {
            "host_dir": "logs",
            "mount_point": "/var/log/gitlab"
        }, {
            "host_dir": "config",
            "mount_point": "/etc/gitlab"
        }],
        "ports": [{
            "host_port": "{{pkgwizard_ssh_port}}",
            "container_port": "{{pkgwizard_ssh_port}}",
            "protocol": "tcp"
        },{
           "host_port": "{{pkgwizard_http_port}}",
           "container_port": "{{pkgwizard_http_port}}",
           "protocol": "tcp"
       },{
            "host_port": "{{pkgwizard_https_port}}",
            "container_port": "{{pkgwizard_https_port}}",
            "protocol": "tcp"
        }]
    }]
  }
}